@startuml
!define OSG (O,lightblue) 
!define QO (Q,orchid) 

!pragma defaultLabeldistance 2.1
!pragma defaultLabelangle 30


class DrawableFactory << Singleton >>
DrawableFactory : $ createDrawableFor(QObject) : osg::Drawable

package drawables

class WaterSurfaceGeom << OSG >>


class BarrierGeom << OSG >>

class FaucetGeom << OSG >>

end package

class SimulationState << QO >>

package simulator

class Oscillator << QO >>
class WallPotential << QO >>
class Lattice << QO >>

SimulationState o- "0..*" WallPotential
SimulationState o- "1" Lattice
SimulationState o- "1,2" Oscillator

end package

Lattice <--- WaterSurfaceGeom : represents
WallPotential <--- BarrierGeom : represents
Oscillator <--- FaucetGeom : represents

DrawableFactory ..> FaucetGeom : creates
DrawableFactory ..> BarrierGeom : creates
DrawableFactory ..> WaterSurfaceGeom : creates

DrawableFactory ..> WallPotential : associates
DrawableFactory ..> Lattice : associates
DrawableFactory ..> Oscillator : associates


SimulationState .> DrawableFactory : notifies

@enduml